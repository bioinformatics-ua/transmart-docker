<VirtualHost *:80>
  ServerAdmin dverbeec@its.jnj.com
  ErrorLog /usr/local/apache2/logs/transmart_error.log
  LogLevel warn
  CustomLog /usr/local/apache2/logs/transmart_access.log combined
  
  <LocationMatch "^/+$">
    redirect / /transmart
    Options -Indexes
    ErrorDocument 403 /error/noindex.html
  </LocationMatch>

  <Location /elasticsearch>
    ProxyPass        http://127.0.0.1:5601/elasticsearch
    ProxyPassReverse http://127.0.0.1:5601/elasticsearch
  </Location>

  <Location /bundles>
    ProxyPass        http://127.0.0.1:5601/bundles
    ProxyPassReverse http://127.0.0.1:5601/bundles
  </Location>

  <Location /app/kibana>
    ProxyPass        http://127.0.0.1:5601/app/kibana
    ProxyPassReverse http://127.0.0.1:5601/app/kibana
  </Location>

  <Location /transmart>
    ProxyPass        ajp://127.0.0.1:8009/transmart
    ProxyPassReverse ajp://127.0.0.1:8009/transmart
  </Location>

  <Location /server-status>
    SetHandler server-status
  </Location>
</VirtualHost>
